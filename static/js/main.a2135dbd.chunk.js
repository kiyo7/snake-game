(this["webpackJsonphooks-snake-game"]=this["webpackJsonphooks-snake-game"]||[]).push([[0],{12:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),o=n(7),a=n.n(o),i=(n(12),n(6)),u=n(2),s=n(0),f=function(){return Object(s.jsx)("p",{children:"Navigation"})},l=function(e){var t=e.fields;return Object(s.jsx)("div",{className:"field",children:t.map((function(e){return e.map((function(e){return Object(s.jsx)("div",{className:"dots ".concat(e)})}))}))})},j=function(e){var t=e.status,n=e.onStart,r=e.onRestart;return Object(s.jsx)("div",{className:"button",children:"gameover"===t?Object(s.jsx)("button",{onClick:r,children:"gameover"}):Object(s.jsx)("button",{onClick:n,children:"start"})})},d=function(e){var t=e.onChange;return Object(s.jsxs)("div",{className:"manipulationPanel",children:[Object(s.jsx)("button",{onClick:function(){return t("left")},children:"\u2190"}),Object(s.jsx)("button",{onClick:function(){return t("up")},children:"\u2191"}),Object(s.jsx)("button",{onClick:function(){return t("down")},children:"\u2193"}),Object(s.jsx)("button",{onClick:function(){return t("right")},children:"\u2192"})]})},b=function(e,t){for(var n=function(){var n=Math.floor(Math.random()*(e-1-1))+1,r=Math.floor(Math.random()*(e-1-1))+1;if(!t.some((function(e){return e.x===n&&e.y===r})))return{v:{x:n,y:r}}};;){var r=n();if("object"===typeof r)return r.v}},h=function(e,t){for(var n=[],r=0;r<e;r++){var c=new Array(e).fill("");n.push(c)}n[t.x][t.y]="snake";var o=b(e,[t]);return console.log(o),n[o.y][o.x]="food",n},O={x:17,y:17},v=h(35,O),x=Object.freeze({init:"init",playing:"playing",suspended:"suspended",gameover:"gameover"}),g=Object.freeze({up:"up",right:"right",left:"left",down:"down"}),m=Object.freeze({37:g.left,38:g.up,39:g.right,40:g.down}),p=Object.freeze({up:"down",right:"left",left:"right",down:"up"}),y=Object.freeze({up:{x:0,y:-1},right:{x:1,y:0},left:{x:-1,y:0},down:{x:0,y:1}}),k=void 0,C=function(){k&&clearInterval(k)};var w=function(){var e=Object(r.useState)(v),t=Object(u.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)([]),a=Object(u.a)(o,2),w=a[0],N=a[1],S=Object(r.useState)(x.init),E=Object(u.a)(S,2),z=E[0],I=E[1],M=Object(r.useState)(g.up),F=Object(u.a)(M,2),L=F[0],P=F[1],A=Object(r.useState)(0),B=Object(u.a)(A,2),J=B[0],R=B[1];Object(r.useEffect)((function(){return N([O]),k=setInterval((function(){R((function(e){return e+1}))}),100),C}),[]),Object(r.useEffect)((function(){0!==w.length&&z===x.playing&&(D()||I(x.gameover))}),[J]);var T=Object(r.useCallback)((function(e){if(z!==x.playing)return L;p[L]!==e&&P(e)}),[L,z]);Object(r.useEffect)((function(){var e=function(e){var t=m[e.keyCode];console.log(t),t&&T(t)};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[T]);var D=function(){var e,t,r=w[0],o=r.x,a=r.y,u=y[L],s={x:o+u.x,y:a+u.y};if(e=n.length,(t=s).y<0||t.x<0||t.y>e-1||t.x>e-1||function(e,t){return"snake"===e[t.y][t.x]}(n,s))return!1;var f=Object(i.a)(w);if("food"!==n[s.y][s.x]){var l=f.pop();n[l.y][l.x]=""}else{var j=b(n.length,[].concat(Object(i.a)(f),[s]));n[j.y][j.x]="food"}return n[s.y][s.x]="snake",f.unshift(s),N(f),c(n),!0};return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsxs)("header",{className:"header",children:[Object(s.jsx)("div",{className:"title-container",children:Object(s.jsx)("h1",{className:"title",children:"Snake Game"})}),Object(s.jsx)(f,{})]}),Object(s.jsx)("main",{className:"main",children:Object(s.jsx)(l,{fields:n})}),Object(s.jsxs)("footer",{className:"footer",children:[Object(s.jsx)(j,{status:z,onStart:function(){return I(x.playing)},onRestart:function(){k=setInterval((function(){R((function(e){return e+1}))}),100),P(g.up),I(x.init),N([O]),c(h(35,O))}}),Object(s.jsx)(d,{onChange:T})]})]})},N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,15)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),o(e),a(e)}))};a.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(w,{})}),document.getElementById("root")),N()}},[[14,1,2]]]);
//# sourceMappingURL=main.a2135dbd.chunk.js.map